@use "../abstracts/variables" as *;

/*
================================================================================
RESPONSIVE BREAKPOINTS OPTIMIZATION
================================================================================
*/

/* 992px and below */
@media (max-width: 992px) {
    .association-detail {
        .content {
            grid-template-columns: 1fr;
        }
    }
}

/* 768px and below */
@media (max-width: 768px) {
    /*
    ================================================================================
    HEADER & NAVIGATION
    ================================================================================
    */

    .main-header {
        .navbar {
            padding: 1rem;

            .nav-links,
            .auth-section {
                display: none;
            }

            .burger-menu {
                display: flex;
            }
        }

        .mobile-menu {
            display: block;
        }
    }

    /*
    ================================================================================
    ASSOCIATIONS PAGES
    ================================================================================
    */
    
    /* Main associations listing page */
    .associations {
        .container {
            padding: 1rem 0.5rem 5rem;
        }

        .header {
            flex-direction: column;
            gap: 1rem;
            align-items: stretch;

            .title {
                font-size: 2rem;
                text-align: center;
            }
        }

        .grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
    }

    /* Association detail page */
    .association-detail {
        .header-card .title {
            font-size: 2rem;
        }
    }

    /* Association forms (new/edit) */
    .association-form {
        .card .header {
            flex-direction: column;
            gap: 1rem;
        }

        .body .actions {
            flex-direction: column;
        }
    }

    /* Association management page */
    .association-manage {
        .header {
            flex-direction: column;
            gap: 1rem;
            align-items: stretch;

            .title {
                text-align: center;
                font-size: 1.5rem;
            }
        }

        .table-responsive {
            font-size: 0.9rem;
        }

        .table {
            th, td {
                padding: 0.5rem;
                font-size: 0.85rem;
            }
        }
    }

    /*
    ================================================================================
    ANIMALS PAGES
    ================================================================================
    */
    
    /* Animals listing page */
    .animals-page {
        .container {
            padding: 0 1rem;
        }
        
        .page-header {
            h1 {
                font-size: 2rem;
            }
        }
        
        .animals-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        
        .animal-card {
            .card-image {
                height: 200px;
            }
            
            .card-content {
                padding: 1.2rem;
            }
        }
    }

    /* Animal detail page */
    .animal-detail-page {
        .animal-detail {
            grid-template-columns: 1fr;
            
            .animal-image {
                height: 300px;
            }
            
            .animal-info {
                padding: 1.5rem;
            }
        }
    }

    /*
    ================================================================================
    ADD ANIMAL PAGE
    ================================================================================
    */
    
    .add-animal-page {
        .container {
            padding: 0 1rem;
        }
    }

    .form-container {
        padding: 2rem 1.5rem;
    }

    .animal-form {
        .form-grid {
            grid-template-columns: 1fr;
            gap: 2rem;
        }
        
        .form-row {
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .tags-wrapper {
            grid-template-columns: 1fr;
        }
        
        .form-actions {
            flex-direction: column;
            gap: 1rem;
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    }

    /*
    ================================================================================
    AUTH PAGES
    ================================================================================
    */

    .auth-form-section {
        padding: 80px 10px 40px;
    }

    .auth-wrapper {
        width: 95%;
        height: 500px;
        flex-direction: column;
    }

    .auth-panel {
        width: 100%;
        height: 50%;
        position: relative;
    }

    .info-panel {
        width: 100%;
        height: 50%;
        left: 0;
        top: 50%;
    }

    .auth-wrapper.sign-up-mode .info-panel {
        transform: translateY(-100%);
    }

    /* Password Reset Pages */
    .bouteille-form-container {
        padding: 2rem 1rem;
        min-height: calc(100vh - 200px);

        h2 {
            font-size: 1.5rem;
            margin-bottom: 2rem;
        }

        .form-grid {
            padding: 2rem 1.5rem;
        }

        .form-input {
            height: 45px;
            font-size: 15px;
        }

        .form-actions .btn {
            height: 45px;
            font-size: 15px;
        }
    }

    .modale-flash .modale-content {
        padding: 2rem;
        width: 90%;

        p {
            font-size: 1rem;
        }
    }

    /*
    ================================================================================
    COMPONENTS
    ================================================================================
    */
    
    /* Animals Carousel */
    .animals-carousel-container {
        .animals-carousel {
            height: 500px;
            
            .carousel-card {
                &.left {
                    transform: translateX(-200px) scale(0.7);
                }
                
                &.right {
                    transform: translateX(200px) scale(0.7);
                }
                
                &.back-left {
                    transform: translateX(-320px) scale(0.5);
                }
                
                &.back-right {
                    transform: translateX(320px) scale(0.5);
                }
                
                &.far-back-left {
                    transform: translateX(-420px) scale(0.4);
                }
                
                &.far-back-right {
                    transform: translateX(420px) scale(0.4);
                }
                
                &.hidden {
                    transform: translateX(-500px) scale(0.3);
                }
                
                &.hidden-right {
                    transform: translateX(500px) scale(0.3);
                }
            }
        }
    }

    /*
    ================================================================================
    HOMEPAGE
    ================================================================================
    */
    
    /* Header and Navigation */
    .main-header .navbar {
        padding: 1rem;
        flex-direction: column;
        gap: 1rem;
        
        .nav-links {
            gap: 1rem;
        }
        
        .auth-section {
            gap: 0.5rem;
        }
    }

    /* Hero Carousel */
    .hero-carousel {
        .carousel-content {
            h1 {
                font-size: 2.5rem;
            }
            
            .search-form {
                flex-direction: column;
                gap: 0.5rem;
                
                .search-field select,
                .search-btn {
                    width: 100%;
                    max-width: 250px;
                }
            }
        }
        
        .carousel-arrow {
            width: 50px;
            height: 50px;
            font-size: 1.2rem;
            
            &.carousel-prev {
                left: 1rem;
            }
            
            &.carousel-next {
                right: 1rem;
            }
        }
    }

    /* Info Section */
    .info-section {
        padding: 3rem 0;
        
        .info-container {
            flex-direction: column;
            gap: 2rem;
            
            .photo-info {
                flex: none;
                width: 100%;
                
                img {
                    max-width: 400px;
                    margin: 0 auto;
                    display: block;
                }
            }
            
            .text-info {
                text-align: center;
                
                h4 {
                    font-size: 2rem;
                }
                
                p {
                    font-size: 1rem;
                }
            }
        }
    }

    /* Stats Section */
    .stats-section {
        padding: 3rem 0;
        
        .stats-container {
            flex-direction: column;
            gap: 3rem;
            
            .stat-item {
                .stat-icon {
                    width: 70px;
                    height: 70px;
                    
                    i {
                        font-size: 1.8rem;
                    }
                }
                
                .stat-content {
                    h3 {
                        font-size: 2rem;
                    }
                    
                    p {
                        font-size: 1rem;
                    }
                }
            }
        }
    }

    /*
    ================================================================================
    GLOBAL UTILITIES
    ================================================================================
    */
    
    /* Hide elements on mobile */
    .d-none-mobile {
        display: none !important;
    }

    /* Text alignment utilities */
    .text-center-mobile {
        text-align: center !important;
    }
    
    .text-left-mobile {
        text-align: left !important;
    }

    /* Spacing utilities */
    .p-mobile-1 {
        padding: 0.5rem !important;
    }
    
    .p-mobile-2 {
        padding: 1rem !important;
    }
    
    .m-mobile-1 {
        margin: 0.5rem !important;
    }
    
    .m-mobile-2 {
        margin: 1rem !important;
    }

    /* Flex utilities */
    .flex-column-mobile {
        flex-direction: column !important;
    }
    
    .flex-row-mobile {
        flex-direction: row !important;
    }
}

/* 600px and below */
@media (max-width: 600px) {
    /* Modal tooltips */
    [data-tooltip] {
        &::before {
            max-width: 90vw !important;
            min-width: 120px !important;
            font-size: 0.8rem !important;
            padding: 0.5rem 0.7rem !important;
        }
    }
}

/* 480px and below */
@media (max-width: 480px) {
    .animals-page {
        padding: 1rem 0;

        .page-header {
            margin-bottom: 2rem;

            h1 {
                font-size: 1.8rem;
            }

            .subtitle {
                font-size: 1rem;
            }
        }

        .animals-grid {
            gap: 1rem;
        }

        .animal-card {
            .card-image {
                height: 180px;
            }

            .card-content {
                padding: 1rem;

                .card-header .animal-name {
                    font-size: 1.2rem;
                }

                .card-actions {
                    .action-btn {
                        width: 30px;
                        height: 30px;
                        font-size: 0.8rem;
                    }
                }
            }
        }
    }

    .animal-detail-page {
        .animal-detail .animal-info {
            padding: 1rem;

            h1 {
                font-size: 1.6rem;
            }

            .contact-buttons {
                flex-direction: column;
            }
        }
    }

    /* Password Reset Pages - Small Screens */
    .bouteille-form-container {
        padding: 1.5rem 1rem;

        h2 {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
        }

        .form-grid {
            padding: 1.5rem 1rem;
        }

        .form-label {
            font-size: 13px;
        }

        .form-input {
            height: 42px;
            font-size: 14px;
            padding: 0 15px;
        }

        .form-actions .btn {
            height: 42px;
            font-size: 14px;
        }
    }

    .modale-flash .modale-content {
        padding: 1.5rem;

        p {
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .modale-close {
            padding: 0.7rem 1.5rem;
            font-size: 14px;
        }
    }

    .animals-carousel-container {
        .animals-carousel {
            height: 450px;
            
            .carousel-card {
                &.left,
                &.right {
                    display: none; // Cache les cartes lat√©rales sur mobile
                }
            }
        }
    }

    .hero-carousel {
        .carousel-content h1 {
            font-size: 2rem;
        }
    }

    /*
    ================================================================================
    HOMEPAGE
    ================================================================================
    */

    .homepage {
        .why-adopt-section {
            .why-adopt-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }
    }

    /*
    ================================================================================
    HOMEPAGE - Why Adopt Section
    ================================================================================
    */
    .homepage {
        .why-adopt-section {
            .why-adopt-container {
                gap: 2rem;
            }

            .why-adopt-text {
                h4 {
                    font-size: 1.8rem;
                }

                p {
                    font-size: 1rem;
                    margin-bottom: 1.5rem;
                }

                .btn-adopt {
                    padding: 0.8rem 1.5rem;
                    font-size: 0.9rem;
                }
            }

            .why-adopt-image {
                img {
                    max-width: 300px;
                }
            }
        }
    }
}

/* 576px and below */
@media (max-width: 576px) {
    /*
    ================================================================================
    HOMEPAGE - Why Adopt Section Mobile
    ================================================================================
    */
    .homepage {
        .why-adopt-section {
            padding: 3rem 0;

            .why-adopt-container {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }

            .why-adopt-text {
                order: 2;

                h4 {
                    font-size: 1.6rem;
                    margin-bottom: 1rem;
                }

                p {
                    font-size: 0.95rem;
                    line-height: 1.6;
                    margin-bottom: 1.5rem;
                    max-width: none;
                }

                .btn-adopt {
                    padding: 0.8rem 1.5rem;
                    font-size: 0.9rem;
                }
            }

            .why-adopt-image {
                order: 1;

                img {
                    max-width: 250px;
                }
            }
        }
    }
}

/* 768px Mobile section - Additional Pages */
@media (max-width: 768px) {
    /*
    ================================================================================
    PROFILE PAGE
    ================================================================================
    */

    .profile-page {
        .profile-container {
            grid-template-columns: 1fr;
            gap: 2rem;
            padding: 1rem;
        }

        .profile-header {
            text-align: center;

            .profile-image {
                width: 120px;
                height: 120px;
                margin: 0 auto 1rem;
            }

            h1 {
                font-size: 1.8rem;
                margin-bottom: 0.5rem;
            }

            .profile-email {
                font-size: 0.95rem;
            }
        }

        .profile-details {
            grid-template-columns: 1fr;
            gap: 1.5rem;

            .detail-section {
                padding: 1.5rem;

                h3 {
                    font-size: 1.3rem;
                }
            }
        }

        .profile-actions {
            flex-direction: column;
            gap: 1rem;

            .btn {
                width: 100%;
            }
        }

        .favorites-section {
            grid-template-columns: 1fr;
            gap: 1rem;
        }
    }

    /*
    ================================================================================
    COMMENTS SECTION
    ================================================================================
    */

    .comments-section {
        margin-top: 2rem;
        padding: 1.5rem;

        h3 {
            font-size: 1.3rem;
        }

        .add-comment-form {
            padding: 1rem;

            .comment-user-info {
                margin-bottom: 1rem;

                .comment-avatar {
                    width: 35px;
                    height: 35px;
                }

                .comment-avatar-placeholder {
                    width: 35px;
                    height: 35px;
                }

                .comment-username {
                    font-size: 0.95rem;
                }
            }

            .comment-textarea {
                min-height: 80px;
                padding: 0.75rem;
                font-size: 0.95rem;
            }

            .btn-comment-submit {
                padding: 0.65rem 1.2rem;
                font-size: 0.9rem;
            }
        }

        .comments-list {
            gap: 1rem;
        }

        .comment {
            padding: 1rem;

            .comment-header {
                gap: 0.75rem;

                .comment-avatar,
                .comment-avatar-placeholder {
                    width: 35px;
                    height: 35px;
                }
            }

            .comment-meta {
                .comment-author {
                    font-size: 0.95rem;
                }

                .comment-date {
                    font-size: 0.8rem;
                }
            }

            .comment-content {
                font-size: 0.95rem;
            }

            &.comment-level-1 {
                margin-left: 1rem;
            }

            .comment-replies {
                margin-top: 0.75rem;
                gap: 0.75rem;
            }
        }

        .btn-reply {
            padding: 0.4rem 0.8rem;
            font-size: 0.85rem;
        }

        .reply-form-container {
            padding: 0.75rem;

            .comment-textarea {
                min-height: 60px;
                padding: 0.5rem;
                font-size: 0.9rem;
            }
        }
    }

    /*
    ================================================================================
    JOIN ASSOCIATION PAGE
    ================================================================================
    */

    .join-association-container {
        padding: 2rem 0 8rem;
    }

    .join-section {
        padding: 1.5rem;
        margin: 0 1rem;

        .join-header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;

            h1 {
                font-size: 1.6rem;
            }

            .lead {
                font-size: 1rem;
            }
        }

        .join-content {
            grid-template-columns: 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .association-info {
            padding: 1rem;

            .association-logo {
                width: 100px;
                height: 100px;
            }

            h2 {
                font-size: 1.3rem;
                margin-bottom: 0.5rem;
            }

            .description {
                font-size: 0.9rem;
            }
        }

        .join-form-section {
            h3 {
                font-size: 1.2rem;
                margin-bottom: 1rem;
            }

            .form-actions {
                flex-direction: column;
                gap: 0.75rem;

                .btn {
                    width: 100%;
                    justify-content: center;
                }
            }
        }

        .join-info-box {
            padding: 1rem;

            h4 {
                font-size: 1rem;
                margin-bottom: 0.75rem;
            }

            li {
                font-size: 0.9rem;
                margin-bottom: 0.5rem;
            }
        }
    }

    /*
    ================================================================================
    FOOTER
    ================================================================================
    */

    footer {
        .footer-wrapper {
            padding: 2rem 1rem;

            .logo-footer {
                margin-bottom: 2rem;
                text-align: center;

                img {
                    height: 60px;
                }

                p {
                    font-size: 1rem;
                }
            }

            .section-footer {
                flex-direction: column;
                gap: 2rem;
                text-align: center;

                .link-footer {
                    h4 {
                        font-size: 1.1rem;
                    }

                    ul li {
                        padding: 0.25rem;
                        font-size: 0.95rem;
                    }
                }

                .contact-footer {
                    h4 {
                        font-size: 1.1rem;
                    }

                    li {
                        font-size: 0.95rem;
                        margin-bottom: 0.5rem;
                    }
                }
            }

            .copyright {
                font-size: 0.85rem;
                margin-top: 2rem;
            }
        }
    }

    /*
    ================================================================================
    ADOPTER NEWS PAGE
    ================================================================================
    */

    .adopter-news-page {
        .news-header {
            padding: 2rem 1rem;

            h1 {
                font-size: 1.8rem;
            }
        }

        .news-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
            padding: 1rem;
        }

        .news-card {
            .news-image {
                height: 200px;
            }

            .news-content {
                padding: 1rem;

                h3 {
                    font-size: 1.2rem;
                }

                p {
                    font-size: 0.95rem;
                }
            }
        }
    }

    /*
    ================================================================================
    ANIMAL DETAIL PAGE WITH COMMENTS
    ================================================================================
    */

    .animal-show-page {
        .animal-show-container {
            padding: 1rem;

            .animal-profile-wrapper {
                .profile-img {
                    width: 150px;
                    height: 150px;
                }

                .info-box {
                    font-size: 0.9rem;
                    padding: 0.8rem;
                }

                .circle-rotate,
                .circle-rotate2 {
                    width: 200px;
                    height: 200px;
                }
            }

            .animal-tags-section {
                padding: 1.5rem 1rem;

                h3 {
                    font-size: 1.3rem;
                }

                .tags-container {
                    flex-wrap: wrap;
                    gap: 0.5rem;

                    .tag {
                        padding: 0.5rem 1rem;
                        font-size: 0.85rem;
                    }
                }
            }

            .action-buttons {
                flex-direction: column;
                gap: 1rem;
                margin-bottom: 2rem;

                .btn-back,
                .btn-contact {
                    width: 100%;
                    justify-content: center;
                }
            }
        }
    }
}

/* 480px Mobile section - Additional Optimizations */
@media (max-width: 480px) {
    /*
    ================================================================================
    PROFILE PAGE
    ================================================================================
    */

    .profile-page {
        .profile-header {
            .profile-image {
                width: 100px;
                height: 100px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .profile-email {
                font-size: 0.9rem;
            }
        }

        .profile-details {
            .detail-section {
                padding: 1rem;

                h3 {
                    font-size: 1.1rem;
                }

                p {
                    font-size: 0.9rem;
                }
            }
        }
    }

    /*
    ================================================================================
    COMMENTS SECTION
    ================================================================================
    */

    .comments-section {
        padding: 1rem;

        h3 {
            font-size: 1.2rem;
        }

        .add-comment-form {
            padding: 0.75rem;

            .comment-user-info {
                .comment-avatar,
                .comment-avatar-placeholder {
                    width: 30px;
                    height: 30px;
                }

                .comment-username {
                    font-size: 0.85rem;
                }
            }

            .comment-textarea {
                min-height: 70px;
                font-size: 0.9rem;
                padding: 0.6rem;
            }

            .btn-comment-submit {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }
        }

        .comment {
            padding: 0.75rem;
            border-left-width: 3px;

            .comment-header {
                margin-bottom: 0.75rem;

                .comment-avatar,
                .comment-avatar-placeholder {
                    width: 30px;
                    height: 30px;
                }
            }

            .comment-meta {
                .comment-author {
                    font-size: 0.9rem;
                }

                .comment-date {
                    font-size: 0.75rem;
                }
            }

            .comment-content {
                font-size: 0.9rem;
                margin-bottom: 0.75rem;
            }

            &.comment-level-1 {
                margin-left: 0.75rem;
            }
        }

        .btn-reply {
            padding: 0.35rem 0.7rem;
            font-size: 0.8rem;
        }

        .reply-form-container {
            padding: 0.6rem;

            .comment-textarea {
                min-height: 55px;
                padding: 0.4rem;
                font-size: 0.85rem;
            }
        }
    }

    /*
    ================================================================================
    JOIN ASSOCIATION PAGE
    ================================================================================
    */

    .join-section {
        padding: 1rem;
        margin: 0 0.5rem;

        .join-header {
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;

            h1 {
                font-size: 1.4rem;
            }

            .lead {
                font-size: 0.95rem;
            }
        }

        .association-info {
            padding: 0.75rem;

            .association-logo {
                width: 80px;
                height: 80px;
            }

            h2 {
                font-size: 1.1rem;
            }

            .description {
                font-size: 0.85rem;
            }
        }

        .join-form-section {
            h3 {
                font-size: 1.1rem;
            }

            .form-textarea {
                font-size: 0.9rem;
                min-height: 70px;
            }
        }

        .join-info-box {
            padding: 0.75rem;

            h4 {
                font-size: 0.95rem;
            }

            li {
                font-size: 0.85rem;
                padding-left: 1rem;
            }
        }
    }

    /*
    ================================================================================
    FOOTER
    ================================================================================
    */

    footer {
        .footer-wrapper {
            padding: 1.5rem 0.75rem;

            .logo-footer {
                margin-bottom: 1.5rem;

                img {
                    height: 50px;
                }

                p {
                    font-size: 0.9rem;
                }
            }

            .section-footer {
                gap: 1.5rem;

                .link-footer h4,
                .contact-footer h4 {
                    font-size: 1rem;
                }

                li {
                    font-size: 0.9rem;
                }
            }

            .copyright {
                font-size: 0.8rem;
            }
        }
    }

    /*
    ================================================================================
    ADOPTER NEWS PAGE
    ================================================================================
    */

    .adopter-news-page {
        .news-header {
            padding: 1.5rem 0.75rem;

            h1 {
                font-size: 1.6rem;
            }
        }

        .news-grid {
            padding: 0.75rem;
            gap: 1rem;
        }

        .news-card {
            .news-image {
                height: 180px;
            }

            .news-content {
                padding: 0.75rem;

                h3 {
                    font-size: 1.1rem;
                }

                p {
                    font-size: 0.9rem;
                }
            }
        }
    }

    /*
    ================================================================================
    ANIMAL DETAIL PAGE WITH COMMENTS
    ================================================================================
    */

    .animal-show-page {
        .animal-show-container {
            padding: 0.75rem;

            .animal-profile-wrapper {
                .profile-img {
                    width: 120px;
                    height: 120px;
                }

                .info-box {
                    font-size: 0.85rem;
                    padding: 0.6rem;
                }

                .circle-rotate,
                .circle-rotate2 {
                    width: 160px;
                    height: 160px;
                }
            }

            .animal-tags-section {
                padding: 1rem 0.75rem;

                .tags-container {
                    .tag {
                        padding: 0.4rem 0.8rem;
                        font-size: 0.8rem;
                    }
                }
            }
        }
    }
}

/* Desktop only utilities */
@media (min-width: 769px) {
    .d-none-desktop {
        display: none !important;
    }
}